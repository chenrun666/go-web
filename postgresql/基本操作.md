# PostgreSQL 的基本操作

## 安装PostgreSQL
```bash
mac
brew install postgresql -v
```

### 初始化数据库
```bash
initdb /usr/local/var/postgres -E utf8
```

### 设置开机自启
```bash
ln -sfv /usr/local/opt/postgresql/*.plist ~/Library/LaunchAgents
launchctl load ~/Library/LaunchAgents/homebrew.mxcl.postgresql.plist
```

### 启动PostgreSQL
```bash
pg_ctl -D /usr/local/var/postgres -l /usr/local/var/postgres/server.log start
```

### 关闭PostgreSQL
```bash
pg_ctl -D /usr/local/var/postgres stop -s -m fast
```

## PostgreSQL 基本操作

### 创建用户
```bash
createuser username -P
# Enter password for new role:
# Enter it again
```
### 创建数据库
```bash
createdb dbname -O username -E UTF8 -e
```
-O: owner
-E: encoding
-e: 数据库执行操作的命令显示出来

### 连接数据库
```bash
psql -U username -d dbname -h 127.0.0.1
```

### 显示已经创建的数据库
```sql
\l
```
or
```bash
psql -l
```

### 连接数据库
```sql
\c dbname
```

### 显示数据库表
```bash
\d
```

### 创建一个名为test的表
```sql
CREATE TABLE test (ID int, test VARCHAR(50));
```

### 插入一条记录
```sql
INSERT INTO test(id, text) VALUES(1, 'chenrun');
```

### 查询记录
```sql
SELECT * FROM test WHERE id = 1;
```

### 更新记录
```sql
UPDATE test SET text = 'aaaaaaaaa' WHERE id = 1;
```

### 删除指定的记录
```sql
DELETE FROM test WHERE id = 1;
```

### 删除表
```sql
DROP TABLE test;
```

### 删除数据库
```sql
DROP DATABASE dbname;
```
or
```bash
dropdb -U user dbname
```





